hooks:
  test:
    event: [Stop, PostToolUse:Edit|Write]
    command: "PLAYWRIGHT_HTML_OPEN=never npx -y playwright test ${HAN_FILES}"
    dirs_with:
      - "playwright.config.ts"
      - "playwright.config.js"
    if_changed:
      - "**/*.{js,ts}x?"
    depends_on:
      - plugin: jutsu-playwright-bdd
        hook: generate
        optional: true
    file_filter:
      - "**/*.spec.{js,ts}"
      - "**/*.test.{js,ts}"
      - "**/e2e/**/*.{js,ts}"
    file_test: grep -qE "(test\(|test\.describe)" "${HAN_FILE}"
