[package]
name = "han-indexer"
version = "0.1.0"
edition = "2021"
description = "JSONL transcript indexer and file watcher for Han"

[features]
default = ["sqlite"]
sqlite = ["han-db/sqlite"]
postgres = ["han-db/postgres"]

[dependencies]
han-db = { path = "../han-db" }
sea-orm = { version = "1", features = ["macros", "with-chrono", "with-json", "with-uuid"] }
serde = { version = "1", features = ["derive"] }
serde_json = "1"
chrono = { version = "0.4", features = ["serde"] }
uuid = { version = "1", features = ["v4"] }
tokio = { version = "1", features = ["full"] }
notify = { version = "7", default-features = false, features = ["macos_kqueue"] }
memmap2 = "0.9"
bytecount = "0.6"
vader_sentiment = "0.1"
once_cell = "1"
regex = "1"
sha2 = "0.10"
dirs = "5"
tracing = "0.1"
thiserror = "2"
gix = { version = "0.72", default-features = false, features = ["max-performance-safe"] }

[dev-dependencies]
tempfile = "3"
tokio = { version = "1", features = ["test-util", "macros"] }
