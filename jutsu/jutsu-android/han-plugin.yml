hooks:
  build:
    dirs_with:
      - "build.gradle"
      - "build.gradle.kts"
    test_dir: "test -f gradlew && grep -q 'com.android' build.gradle* 2>/dev/null"
    command: "./gradlew assembleDebug --no-daemon -q 2>&1 | tail -30 || exit 1"
    if_changed:
      - "**/*.kt"
      - "**/*.java"
      - "**/*.xml"
      - "**/build.gradle"
      - "**/build.gradle.kts"
      - "**/settings.gradle"
      - "**/settings.gradle.kts"
      - "**/gradle.properties"
      - "**/gradle-wrapper.properties"
      - "**/libs.versions.toml"
      - "**/proguard-rules.pro"
      - "**/*.pro"
      - "**/*.aidl"
      - "**/*.c"
      - "**/*.cpp"
      - "**/*.h"
      - "**/google-services.json"
      - "**/CMakeLists.txt"
      - "**/*.cmake"
